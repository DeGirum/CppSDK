<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DeGirum AI Client for C++ Reference Guide: DG::AIModel Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="degirum64.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DeGirum AI Client for C++ Reference Guide
   &#160;<span id="projectnumber">v1.0.1</span>
   </div>
   <div id="projectbrief">DeGirum AI Client for C++ Reference Guide</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceDG.html">DG</a></li><li class="navelem"><a class="el" href="classDG_1_1AIModel.html">AIModel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classDG_1_1AIModel-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">DG::AIModel Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classDG_1_1AIModel.html" title="AIModel is DeGirum AI client API class for simple non-pipelined sequential inference.">AIModel</a> is DeGirum AI client API class for simple non-pipelined sequential inference.  
 <a href="classDG_1_1AIModel.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="dg__model__api_8h_source.html">dg_model_api.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a113b8ec96227fa12058e2bdeff167d6b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDG_1_1AIModel.html#a113b8ec96227fa12058e2bdeff167d6b">AIModel</a> (const std::string &amp;server, const std::string &amp;model_name, const <a class="el" href="classDG_1_1ModelParamsReadAccess.html">ModelParamsReadAccess</a> &amp;model_params=<a class="el" href="classDG_1_1ModelParamsReadAccess.html">ModelParamsReadAccess</a>({}), size_t connection_timeout_ms=<a class="el" href="namespaceDG.html#ad0a5637ada4e34c5fb9824a0699046d0">DEFAULT_CONNECTION_TIMEOUT_MS</a>, size_t inference_timeout_ms=<a class="el" href="namespaceDG.html#acec5e1d271d02a2b32ab89fcf4f85a34">DEFAULT_INFERENCE_TIMEOUT_MS</a>)</td></tr>
<tr class="separator:a113b8ec96227fa12058e2bdeff167d6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7a35ec0ba3e9e4fa2312718ba959c86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDG_1_1AIModel.html#ad7a35ec0ba3e9e4fa2312718ba959c86">predict</a> (std::vector&lt; std::vector&lt; char &gt; &gt; &amp;data, <a class="el" href="namespaceDG.html#a6bac255dbb312a6956fbd5a2d0447d95">json</a> &amp;json_response)</td></tr>
<tr class="separator:ad7a35ec0ba3e9e4fa2312718ba959c86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96999a2543c918042cbbd33551413da5"><td class="memItemLeft" align="right" valign="top"><a id="a96999a2543c918042cbbd33551413da5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDG_1_1AIModel.html#a96999a2543c918042cbbd33551413da5">~AIModel</a> ()</td></tr>
<tr class="memdesc:a96999a2543c918042cbbd33551413da5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. Closes connection to AI server. <br /></td></tr>
<tr class="separator:a96999a2543c918042cbbd33551413da5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classDG_1_1AIModel.html" title="AIModel is DeGirum AI client API class for simple non-pipelined sequential inference.">AIModel</a> is DeGirum AI client API class for simple non-pipelined sequential inference. </p>
<p>This class is used to perform AI model inference on AI server in a simple non-pipelined sequential manner. For more efficient (but somewhat more complex) asynchronous pipelined inference use <a class="el" href="classDG_1_1AIModelAsync.html" title="AIModelAsync is DeGirum AI client API class for efficient pipelined asynchronous inference.">AIModelAsync</a> class.</p>
<p>On construction this class performs connection to AI server, selection of AI model, and setting model run-time parameters.</p>
<p>Once constructed, it can be used to perform sequential AI inference by invoking <a class="el" href="classDG_1_1AIModel.html#ad7a35ec0ba3e9e4fa2312718ba959c86">predict()</a> method. The <a class="el" href="classDG_1_1AIModel.html#ad7a35ec0ba3e9e4fa2312718ba959c86">predict()</a> methods accept the input frame data in various formats and return the inference results. These are blocking methods, i.e. they return execution only when the inference of an input frame is complete. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a113b8ec96227fa12058e2bdeff167d6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a113b8ec96227fa12058e2bdeff167d6b">&#9670;&nbsp;</a></span>AIModel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DG::AIModel::AIModel </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>model_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classDG_1_1ModelParamsReadAccess.html">ModelParamsReadAccess</a> &amp;&#160;</td>
          <td class="paramname"><em>model_params</em> = <code><a class="el" href="classDG_1_1ModelParamsReadAccess.html">ModelParamsReadAccess</a>({})</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>connection_timeout_ms</em> = <code><a class="el" href="namespaceDG.html#ad0a5637ada4e34c5fb9824a0699046d0">DEFAULT_CONNECTION_TIMEOUT_MS</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>inference_timeout_ms</em> = <code><a class="el" href="namespaceDG.html#acec5e1d271d02a2b32ab89fcf4f85a34">DEFAULT_INFERENCE_TIMEOUT_MS</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor. Performs connection to AI server, selection of AI model, and optionally setting model run-time parameters. In case of server connection errors throws std::exception. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">server</td><td>is a string specifying server domain name/IP address and port. Format: "domain_name:port" or "xxx.xxx.xxx.xxx:port". If port is omitted, the default port is 8778. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">model_name</td><td>specifies the AI model to be used for inference. To obtain valid model name, either <a class="el" href="namespaceDG.html#ae6fb2ad5460b7160220feb74635845a1">modelFind()</a> or <a class="el" href="namespaceDG.html#a482a6ce0ec392df3b6f26db70b9b941e">modelzooListGet()</a> functions should be used. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">model_params</td><td>is runtime parameter collection, which defines the model runtime behavior. This is optional parameter: if not specified, then default runtime parameters (as defined in the model zoo) are used. ModelParamsWriter class instance can be used to conveniently define runtime parameters. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">connection_timeout_ms</td><td>is the AI server connection timeout in milliseconds. This is optional parameter: by default it is set to 10 sec. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">inference_timeout_ms</td><td>is the AI server inference timeout in milliseconds. This is optional parameter: by default it is set to 180 sec. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad7a35ec0ba3e9e4fa2312718ba959c86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7a35ec0ba3e9e4fa2312718ba959c86">&#9670;&nbsp;</a></span>predict()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DG::AIModel::predict </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; char &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceDG.html#a6bac255dbb312a6956fbd5a2d0447d95">json</a> &amp;&#160;</td>
          <td class="paramname"><em>json_response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Run the AI inference on provided byte array. The byte array contains the frame data, which depends on selected frame format. It can be either JPEG or bitmap depending on the model parameters. In case of errors throws std::exception. This is blocking method, i.e. it returns execution only when the inference of an input frame is complete. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>is a vector of input data for each model input where each data element is a vector of bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">json_response</td><td>is the result of the inference. The response format depends on the model post-processor type. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="dg__model__api_8h_source.html">dg_model_api.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
